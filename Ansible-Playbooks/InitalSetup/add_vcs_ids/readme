######################################################################################
### Author         : Rekha Mishra
### Squad          : Finance & Supply Chain - GI_SSC_PROCLOG_S1
#######################################################################################
### Script Purpose : To create VCS IDs on New Cloud Servers 
#######################################################################################
### Supported OS   : REDHAT and AIX
#######################################################################################
### Mandatory vars_files:       :
###  * users_list               : For user name and user Gecos
###  * password.yml             : password for the users. Will be changed on first login 
###  
###  
###  
########################################################################################
### How to run: ansible-playbook addid.yml
########################################################################################

##This script is to create VCS user id in bulk on new cloud servers using Ansible playbook. To add a user, please edit users_list with user and gecos. Example:
#   - name: user1
#     comment: 744/I/XXXXX//User1/user1@in.ibm.com

## Please keep the password in password.yml. This is a common password, and will be changed by the user on the first time as soon as they login.
# vi password.yml
# password: Any password you wish to


##Inventory file is grouped in Linux and AIX. since there is a slight change in group and shell. 
#vi inventory
#[LINUX]
#servera
#serverb
#[AIX]
#serverc
#serverd

## the playbook  has two plays, one for AIX and One for Linux. All details are already mentioned. 
#Tasks that playbook does:
#1. Check if the group exist, if not it creates the group. (Linux- Primary Group: users, Sec Group: linuxadmin || AIX- Primary Group: staff, Sec Group: aixadmin)
#2. Create user id: ( name picks up from users_list, comment picks up from user_list, shell: As per OS (edit if required), home pickup from users_list, password from password.yml (Encrypted) password. 
#3. Force change password after first login. 
#
#

